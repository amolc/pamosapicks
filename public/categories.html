<!DOCTYPE html>
<html ng-app="website">
<head>
    <title>Categories</title>
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/main.css">
</head>
<body ng-controller="categoryController" ng-init="init()">
    <div class="container mt-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2>Categories</h2>
            <a href="category-form.html" class="btn btn-primary">Add New Category</a>
        </div>

        <div class="alert alert-danger" ng-if="error" ng-bind="error"></div>
        <div class="alert alert-info" ng-if="loading">Loading...</div>

        <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Image</th>
                        <th>Name</th>
                        <th>Description</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="category in categories">
                        <td>
                            <img ng-src="{{staticurl + category.category_image}}" 
                                 alt="{{category.name}}" 
                                 style="max-width: 50px;"
                                 ng-if="category.category_image">
                        </td>
                        <td>{{category.category_name}}</td>
                        <td>{{category.category_description}}</td>
                        <td>
                            <a href="category-form.html?id={{category.id}}" 
                               class="btn btn-sm btn-info me-2">Edit</a>
                            <button class="btn btn-sm btn-danger" 
                                    ng-click="deleteCategory(category.id)">Delete</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script src="assets/js/jquery.js"></script>
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="angular/angular.min.js"></script>
    <script src="angular/app.js"></script>
    <script src="angular/service.js"></script>
    <script src="angular/categoryController.js"></script>
</body>
</html>